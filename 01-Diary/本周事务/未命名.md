---
date: 2024-01-14 20:05:56
excerpt: 原因？想法？
tags:
  - doing
aliases:
---
const nldates = app.plugins.getPlugin("nldates-obsidian") const today = nldates.parseDate("today").moment const week = nldates.parseDate("this week").moment const month = nldates.parseDate("next month").moment const year = nldates.parseDate("next year").moment const weekDiff = week.diff(today,'days') const monthDiff = month.diff(today,'days') const yearDiff = year.diff(today,'days') const daysInMonth = today.daysInMonth() dv.paragraph('本周还剩<span class="stress">'+weekDiff+'</span>天') dv.el('progress',null,{attr:{max:7,value:weekDiff}}) dv.paragraph('本月还剩<span class="stress">'+monthDiff+'</span>天') dv.el('progress',null,{attr:{max:daysInMonth,value:monthDiff}}) dv.paragraph('今年还剩<span class="stress">'+yearDiff+'</span>天') dv.el('progress',null,{attr:{max:365,value:yearDiff}})